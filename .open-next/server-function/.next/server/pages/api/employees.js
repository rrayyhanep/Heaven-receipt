"use strict";(()=>{var e={};e.id=175,e.ids=[175],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},3879:(e,t,r)=>{r.r(t),r.d(t,{config:()=>c,default:()=>d,routeModule:()=>u});var i={};r.r(i),r.d(i,{default:()=>l});var o=r(1802),a=r(7153),n=r(6249),s=r(6048);async function l(e,t){let{method:r}=e,i=s.db.collection("employees");switch(r){case"GET":try{let e=(await i.get()).docs.map(e=>({id:e.id,...e.data()}));t.status(200).json(e)}catch(e){console.error("Firestore GET error:",e),t.status(500).json({message:"Failed to fetch employees from Firestore"})}break;case"POST":try{let r=e.body,o={id:(await i.add(r)).id,...r};t.status(201).json(o)}catch(e){console.error("Firestore POST error:",e),t.status(500).json({message:"Failed to add employee to Firestore"})}break;default:t.setHeader("Allow",["GET","POST"]),t.status(405).end(`Method ${r} Not Allowed`)}}let d=(0,n.l)(i,"default"),c=(0,n.l)(i,"config"),u=new o.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/employees",pathname:"/api/employees",bundlePath:"",filename:""},userland:i})},6048:(e,t,r)=>{r.d(t,{db:()=>a});let i=require("firebase-admin");var o=r.n(i);if(!process.env.FIREBASE_SERVICE_ACCOUNT)throw Error("The FIREBASE_SERVICE_ACCOUNT environment variable is not set.");if(!o().apps.length)try{let e=JSON.parse(process.env.FIREBASE_SERVICE_ACCOUNT);o().initializeApp({credential:o().credential.cert(e)})}catch(e){throw console.error("Firebase initialization error:",e),Error("Failed to initialize Firebase. Please check the FIREBASE_SERVICE_ACCOUNT environment variable.")}let a=o().firestore()},7153:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},1802:(e,t,r)=>{e.exports=r(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=3879);module.exports=r})();